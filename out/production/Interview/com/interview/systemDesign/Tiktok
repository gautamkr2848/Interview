Tiktok / Short Video App

Functional Requirements:
    1. Ingestion
    2. Storage
    3. Distribution

Non Functional Requirements :
    1. High availability
    2. Fault tolerant
    3. Eventual consistency
    4. High performance, high throughput & low latency
    5. Highly scalable

Users
    1. Total users = 30 million
    2. Daily active users = 10 million
    3. Daily creators = 200k
    4. Storage item = user data, video data, video meta data
        a. video data - Amazon S3
            Amazon S3 is a service provided by AWS. It's highly reliable and verified for storing large amount of data.
            We can have multiple S3 buckets for multiple regions to reduce the latency
        b. video meta data - NoSQL DB
            In NoSQL, we can put unstructured data
            There will be huge amount of read for this meta data from many services. eg - Recommendation Engine
        c. user data - MYSQL DB
            User data is a structured data
            Not a frequent read will happen
    5. 1 video = 1 * 4 formats files
    6. Size = 200k * 1MB * 4 = 800 GB
        for multiple resolutions it will be approx 1.6 TB


Microservices
    1. User Service
        a. user CRUD

    2. Upload video service
        a. upload api - Takes the user video data in a queue and process it one by one
        b. Edit video meta data only

    3. Video Converter Service
        a. Converts video in multiple formats and resolutions
            breaks a video in small chunks and convert & at last combine all chunks using worker pipeline

    3. Video serving service
        a. Locate user location
        b. Based on user bandwidth, internet speed, device serves specific video

    4. Recommendation Engine